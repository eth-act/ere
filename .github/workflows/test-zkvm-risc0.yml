name: Test and clippy Risc0

on:
  push:
    branches:
      - master
  pull_request:
    branches:
      - master
    path:
      - 'Cargo.toml'
      - 'crates/build-utils/**'
      - 'crates/zkvm-interface/**'
      - 'crates/ere-cli/**'
      - 'crates/ere-dockerized/**'
      - 'docker/base/**'
      - 'crates/ere-risc0/**'
      - 'docker/risc0/**'
      - 'tests/risc0/**'
      - 'scripts/sdk_installers/install_risc0_sdk.sh'

env:
  CARGO_TERM_COLOR: always

jobs:
  test:
    uses: ./.github/workflows/test-zkvm.yml
    with:
      zkvm: risc0
      toolchain: 1.85.0
      test_ere_dockerized: true
      test_options: ''
